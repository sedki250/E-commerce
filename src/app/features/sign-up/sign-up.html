<section class="px-4 sm:px-6 lg:px-8">
  <div class="bg-gray-100 border border-transparent w-full max-w-xl mx-auto rounded my-8 p-6 sm:p-8">
    <h1 class="text-3xl text-green-600 my-4 text-center">Register Now</h1>

    <form [formGroup]="registarForm" (ngSubmit)="submitForm()">
      <!-- Name -->
      <div class="relative mt-6">
        <input
          type="text"
          id="name"
          class="block w-full px-2.5 pb-2.5 pt-5 text-sm border-0 border-b-2 border-gray-300 rounded-t-lg appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer"
          placeholder=" "
          formControlName="name"
        />
        <label
          for="name"
          class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] start-2.5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4"
        >Name</label>
        <div *ngIf="registarForm.get('name')?.errors && registarForm.get('name')?.touched" class="text-red-600 mt-1 text-sm">
          <p *ngIf="registarForm.get('name')?.getError('required')">Name is required</p>
          <p *ngIf="registarForm.get('name')?.getError('minlength')">Name min length is 3</p>
          <p *ngIf="registarForm.get('name')?.getError('maxlength')">Name max length is 20</p>
        </div>
      </div>

      <!-- Email -->
      <div class="relative mt-6">
        <input
          type="email"
          id="email"
          class="block w-full px-2.5 pb-2.5 pt-5 text-sm border-0 border-b-2 border-gray-300 rounded-t-lg appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer"
          placeholder=" "
          formControlName="email"
        />
        <label
          for="email"
          class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] start-2.5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4"
        >Email</label>
        <div *ngIf="registarForm.get('email')?.errors && registarForm.get('email')?.touched" class="text-red-600 mt-1 text-sm">
          <p *ngIf="registarForm.get('email')?.getError('required')">Email is required</p>
          <p *ngIf="registarForm.get('email')?.getError('email')">Email pattern is invalid</p>
        </div>
      </div>

      <!-- Password -->
      <div class="relative mt-6">
        <input
          type="password"
          id="password"
          class="block w-full px-2.5 pb-2.5 pt-5 text-sm border-0 border-b-2 border-gray-300 rounded-t-lg appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer"
          placeholder=" "
          formControlName="password"
        />
        <label
          for="password"
          class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] start-2.5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4"
        >Password</label>
        <div *ngIf="registarForm.get('password')?.errors && registarForm.get('password')?.touched" class="text-red-600 mt-1 text-sm">
          <p *ngIf="registarForm.get('password')?.getError('required')">Password is required</p>
          <p *ngIf="registarForm.get('password')?.getError('pattern')">Enter a valid password</p>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="relative mt-6">
        <input
          type="password"
          id="rePassword"
          class="block w-full px-2.5 pb-2.5 pt-5 text-sm border-0 border-b-2 border-gray-300 rounded-t-lg appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer"
          placeholder=" "
          formControlName="rePassword"
        />
        <label
          for="rePassword"
          class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] start-2.5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4"
        >Confirm Password</label>
        <p *ngIf="registarForm.getError('mismatch') && registarForm.get('rePassword')?.touched" class="text-red-600 mt-1 text-sm">Confirm password not matched</p>
      </div>

      <!-- Phone -->
      <div class="relative mt-6">
        <input
          type="tel"
          id="userPhone"
          class="block w-full px-2.5 pb-2.5 pt-5 text-sm border-0 border-b-2 border-gray-300 rounded-t-lg appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer"
          placeholder=" "
          formControlName="phone"
        />
        <label
          for="userPhone"
          class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] start-2.5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4"
        >Phone</label>
        <div *ngIf="registarForm.get('phone')?.errors && registarForm.get('phone')?.touched" class="text-red-600 mt-1 text-sm">
          <p *ngIf="registarForm.get('phone')?.getError('required')">Phone is required</p>
          <p *ngIf="registarForm.get('phone')?.getError('pattern')">Enter a valid phone number</p>
        </div>
      </div>

      <!-- Submit button -->
      <button type="submit" class="btn w-full mt-6 py-2 text-white bg-green-600 rounded hover:bg-green-700 transition-colors duration-200">
        Register Now
        <i *ngIf="isLoading" class="fas fa-spinner animate-spin ml-2"></i>
      </button>

      <!-- Error message -->
      <p class="text-red-600 text-center mt-3">{{errMsg}}</p>
    </form>
  </div>
</section>
